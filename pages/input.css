@import "tailwindcss" source(none);
@plugin "daisyui" {
  themes: winter --default, night --prefersdark;
}

@source "./**/*.html";
@source "./*.html";
@source "./**/*.erb";
@source "./*.erb";
@source "./**/*.js";

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }

  /* Ski-inspired gradient background */
  body {
    background: linear-gradient(
      180deg,
      oklch(98% 0.01 240) 0%,
      oklch(100% 0 0) 20%,
      oklch(100% 0 0) 80%,
      oklch(98% 0.01 240) 100%
    );
    min-height: 100vh;
  }

  @media (prefers-color-scheme: dark) {
    body {
      background: linear-gradient(
        180deg,
        oklch(20% 0.02 240) 0%,
        oklch(18% 0.02 245) 50%,
        oklch(16% 0.02 250) 100%
      );
    }
  }
}

/* Enhanced typography with mountain-inspired boldness */
h1, h2, h3 {
  @apply font-black;
  letter-spacing: -0.02em;
}

p {
  @apply text-base leading-relaxed mb-4;
}

a {
  @apply underline hover:no-underline;
  @apply transition-all duration-200;
}

body {
  &.metric {
    .metric {
      display: inline-block;
    }

    .imperial {
      display: none;
    }
  }

  .metric {
    display: none;
  }

  .imperial {
    display: inline-block;
  }
}

/* Epic snow cell with powder effect */
.snow-cell {
  @apply bg-gradient-to-br from-cyan-50/80 to-blue-100/60 dark:from-cyan-900/30
    dark:to-blue-800/20;
  @apply font-bold;
  @apply border-l-4 border-cyan-400 dark:border-cyan-500;
  position: relative;
  overflow: hidden;
}

.snow-cell::before {
  content: "";
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.1) 0%,
    transparent 70%
  );
  animation: powder-float 8s ease-in-out infinite;
  pointer-events: none;
}

@keyframes powder-float {
  0%, 100% {
    transform: translate(0, 0) rotate(0deg);
  }
  33% {
    transform: translate(10px, -10px) rotate(5deg);
  }
  66% {
    transform: translate(-10px, 10px) rotate(-5deg);
  }
}

.snow-value {
  @apply inline-flex items-center gap-1.5;
  @apply text-cyan-700 dark:text-cyan-300;
  @apply font-extrabold text-sm;
}

.snow-cell:hover {
  @apply bg-gradient-to-br from-cyan-100 to-blue-200 dark:from-cyan-800/40
    dark:to-blue-700/30;
  @apply shadow-lg shadow-cyan-200/50 dark:shadow-cyan-900/50;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

td.text-gray-400 {
  @apply opacity-60;
}

/* Hourly table snow row - simpler styling that doesn't break table layout */
.hourly-snow-row {
  @apply bg-gradient-to-r from-cyan-50/80 to-blue-50/60 dark:from-cyan-900/30
    dark:to-blue-900/20;
}

.hourly-snow-row td {
  @apply border-y border-cyan-200 dark:border-cyan-800;
}

.hourly-snow-row td:first-child {
  @apply border-l-4 border-l-cyan-400 dark:border-l-cyan-500;
}

/* Dynamic snow badge with fresh pow vibes */
.snow-badge {
  @apply inline-flex items-center gap-1.5 px-4 py-1.5 rounded-full text-xs
    font-black uppercase tracking-wider;
  @apply bg-gradient-to-r from-cyan-500 to-blue-600 text-white;
  @apply shadow-lg shadow-cyan-500/30;
  white-space: nowrap;
  position: relative;
  overflow: hidden;
}

.snow-badge::before {
  content: "";
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.3),
    transparent
  );
  animation: shimmer 3s infinite;
}

@keyframes shimmer {
  0% {
    left: -100%;
  }
  50%, 100% {
    left: 100%;
  }
}

.snow-badge:hover {
  @apply scale-105;
  @apply shadow-xl shadow-cyan-500/50;
  transition: all 0.2s ease-out;
}

/* Avalanche-style table hover effects */
table tbody tr {
  @apply transition-all duration-200;
}

table tbody tr:hover {
  @apply bg-blue-50/50 dark:bg-blue-900/10;
  @apply scale-[1.01];
  @apply shadow-sm;
  transform-origin: center;
}

/* Mountain peak accents for headers */
h1, h2 {
  @apply relative inline-block;
}

h1::after, h2::after {
  content: "";
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 100%;
  height: 3px;
  background: linear-gradient(
    90deg,
    transparent 0%,
    oklch(70% 0.15 240) 20%,
    oklch(80% 0.12 220) 50%,
    oklch(70% 0.15 240) 80%,
    transparent 100%
  );
  border-radius: 2px;
}

/* Icy link effects */
a:hover {
  @apply text-cyan-600 dark:text-cyan-400;
}

/* Stats cards with powder glow */
.stat {
  @apply transition-all duration-300;
  @apply hover:shadow-xl hover:shadow-blue-200/50 dark:hover:shadow-blue-900/30;
}

/* Alert boxes with mountain lodge warmth */
.alert {
  @apply border-l-4;
}

.alert-info {
  @apply border-cyan-500 bg-cyan-50/50 dark:bg-cyan-900/50 dark:text-cyan-100;
}

/* Button enhancements - send it! */
.btn-primary {
  @apply shadow-lg shadow-primary/30;
  @apply hover:shadow-xl hover:shadow-primary/50;
  @apply transition-all duration-200;
}

/* Navbar with fresh snow feel */
.navbar {
  @apply backdrop-blur-md;
  @apply border-b border-blue-100 dark:border-blue-900;
}

/* Footer with apr√®s-ski vibes */
footer {
  @apply border-t-2 border-blue-100 dark:border-blue-900;
  @apply backdrop-blur-sm;
}

/* Hide elements when filter is active */
body.filter-snow-only [data-has-snow="false"] {
  display: none;
}

/* No-snow rows for state pages */
body.filter-snow-only tr.no-snow {
  display: none;
}

/* Dropdown menu with ice crystal effect */
.dropdown-content {
  @apply backdrop-blur-xl;
  @apply border border-blue-100 dark:border-blue-800;
  @apply shadow-2xl shadow-blue-200/30 dark:shadow-blue-900/50;
}

/* Loading states with snowfall */
@keyframes snowfall {
  0% {
    transform: translateY(-10px);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateY(10px);
    opacity: 0;
  }
}

/* Breadcrumbs with trail markers */
.breadcrumbs li::before {
  @apply text-cyan-500 dark:text-cyan-400;
}

/* Hourly forecast table enhancements */
.table-xs th,
.table-xs td {
  @apply whitespace-nowrap;
}

/* Sticky first column in hourly table */
.table .sticky {
  position: sticky;
}

/* Enhanced stat cards for current conditions */
.stat {
  @apply transition-all duration-300;
  @apply hover:shadow-xl hover:shadow-blue-200/50 dark:hover:shadow-blue-900/30;
  @apply border border-transparent hover:border-cyan-200
    dark:hover:border-cyan-800;
}

.stat-value {
  @apply wrap-break-word;
}

/* Date separator rows in hourly forecast */
.bg-base-300\/50 td {
  @apply border-t-2 border-cyan-200 dark:border-cyan-800;
}

/* Compact hourly table on mobile */
@media (max-width: 768px) {
  .table-xs {
    @apply text-xs;
  }

  .table-xs th,
  .table-xs td {
    @apply px-1 py-1;
  }
}

/* Attribution link styling */
.text-base-content\/50 a {
  @apply text-cyan-600 dark:text-cyan-400;
}
